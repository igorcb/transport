<div class="panel-body">
  <%= search_form_for @q, remote: true, url: search_clients_path, :method => :get do |f| %>
    <div class="form-group">
      <%= f.label :tipo_pessoa %> <br />
      <div class="radio-inline">
        <%= radio_button_tag :tipo_pessoa, "0"%>CPF
      </div>

      <div class="radio-inline">
        <%= radio_button_tag :tipo_pessoa, "1"%>CNPJ
      </div>
    </div>  

    <div class="form-group" id="group_cpf_cnpj">
      <%= f.label :cpf_cnpj_eq, "CPF/CNPJ" %>
      <%= f.search_field :cpf_cnpj_eq, class: "form-control", placeholder: "" %>  
    </div>    

    <div class="form-group">
      <%= f.label :nome_cont, "Cliente" %>
      <%= f.search_field :nome_cont, class: "form-control" %>  
    </div>
    
    <div class="form-group">
      <%= f.label :fantasia_cont, "Fantasia" %>
      <%= f.search_field :fantasia_cont, class: "form-control" %>  
    </div>

    <div class="actions"><%= f.submit "Search" %></div>
  <% end %>
</div>


<script type="text/javascript">
    $(document).ready(function() {
      $('input[name="tipo_pessoa"]').change(function() {
        var tipo = $(this).val();
        console.log(tipo);
        $('#query_cpf_cnpj_eq').empty(); 
        if (tipo === '0') {
          console.log(tipo + ' CPF');
          $('#query_cpf_cnpj_eq').replaceWith("<input class='form-control cpf' id='query_cpf_cnpj_eq' name='query[cpf_cnpj_eq]' type='text'>");
        } else {
          console.log(tipo + ' CNPJ');
          $('#query_cpf_cnpj_eq').replaceWith("<input class='form-control cnpj' id='query_cpf_cnpj_eq' name='query[cpf_cnpj_eq]' type='text'>");
        }
       // document.getElementById("cpf_cnpj_eq").setAttribute('value', cpf_ou_cnpj);

      });
    });

</script>
