<%= form_for @client, html: {role: "form" } do |f| %>
  <%= render 'shared/error_messages', object: f.object %>

  <div class="form-group">
    <%= f.label :tipo_pessoa %> <br />
    <div class="radio-inline">
      <%= f.radio_button :tipo_pessoa, "0"%>CPF
    </div>

    <div class="radio-inline">
      <%= f.radio_button :tipo_pessoa, "1"%>CNPJ
    </div>
  </div>

  <div class="form-group">
    <%= f.label :cpf_cnpj %>
    <%= f.text_field :cpf_cnpj, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :nome %>
    <%= f.text_field :nome, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :fantasia %>
    <%= f.text_field :fantasia, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :inscricao_estadual %>
    <%= f.text_field :inscricao_estadual, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :inscricao_municipal %>
    <%= f.text_field :inscricao_municipal, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :endereco %>
    <%= f.text_field :endereco, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :numero %>
    <%= f.text_field :numero, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :complemento %>
    <%= f.text_field :complemento, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :bairro %>
    <%= f.text_field :bairro, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :cidade %>
    <%= f.text_field :cidade, class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.label :estado  %>
    <%= f.select( :estado, select_uf, {include_blank: "Selecione o Estado"}, {class: "form-control"} ) %>      
  </div>
  <div class="form-group">
    <%= f.label :cep %>
    <%= f.text_field :cep, class: "form-control" %>
  </div>
  
  <h4>Phones</h4>
  <div class="items">
    <%= f.nested_fields_for :contacts do |f| %>
      <fieldset class="item">
        <%= f.label :tipo %>
        <%= f.select :tipo, [['FIXO', '0'], ['CELULAR', '1'], ['E-MAIL', '2'], ['TWITTER', '3'], ['FACEBOOK', '4']]  %>

        <%= f.label :nome %>
        <%= f.text_field :nome %>

        <%= f.label :fone %>
        <%= f.text_field :fone %>

        <%= f.label :complemento %>
        <%= f.text_field :complemento %>

        <a href="#" class="remove">remove</a>

        <%= f.hidden_field :id %>
        <%= f.hidden_field :_destroy %>
      </fieldset>
    <% end %>
  </div>
  <a href="#" class="add">Adicionar Contato</a>


    <div class="control-group">
      <%= f.label :image, "Imagem", class: 'control-label' %>
      <div class="controls">
        <%= f.fields_for :assets do |asset_field| %>
          <% if asset_field.object.new_record? %>
            <p><%= asset_field.file_field :asset %></p>
          <% end %>
        <% end %>

        <%= f.fields_for :assets do |asset_field| %>
          <% unless asset_field.object.new_record? %>
            <p>
              <%= link_to image_tag(asset_field.object.asset.url(:thumb))%> 
              <%= asset_field.check_box :_destroy, :label => "Delete"  %>
            </p>
          <% end %>
          
        <% end %>
      </div>
    </div>


  <div class="form-group">
    <%= f.submit "Salvar", class: "btn btn-primary" %>
    <%= link_to "Exibir",  clients_path(@client), class: "btn btn-info" if !@client.new_record? %>
    <%= link_to "Listar Todos", clients_path, class: "btn btn-default" %>
  </div>

<% end %>
