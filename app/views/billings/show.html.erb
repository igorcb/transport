<style type="text/css">
@media print {
      * {
      
      top: 0;
      background: transparent !important ;
      border-color: #000 !important ;
      box-shadow: none !important ;
      color: #000 !important ;
      text-shadow: none !important ;
      
      }

      body { 
        font: 8pt Verdana, Geneva, Arial, Helvetica, sans-serif; 
        margin: 10 0 10 0px; 
        text-align: center; 
        background-color: blue; 
      }      

      .notprinter {
        display: none;
      }

      .action {
        display: none;
      }

      .btn {
        display: none; 
      }


      .nfe {
        margin-left: 30px;
      }

      .placa {
        width: 100px;
      }
      
      .total {
        font-weight: 20px;
      }
      #demo-table > caption {
         background-color: yellow;
         font-size: 30px;
      }
      #demo-table {
        border: 30px;
      }
      #demo-table > thead > tr:first-child > th {
      text-align: center;
      color: red;
      height: 10px;
      width: 10px;
      }
      .debug_dump {
        display: none; 
      }
}
</style>

<p class="notprinter">
  <strong>Data:</strong>
  <%= date_br @billing.data %>
</p>

<p class="notprinter">
  <strong>Valor:</strong>
  <%= @billing.valor %>
</p>

<p class="notprinter">
  <strong>Status:</strong>
  <%= @billing.status_name %>
</p >

<p class="notprinter">
  <strong>Obs:</strong>
  <%= @billing.obs %>
</p>

<div class="form-group">
  <%= link_to 'Listar Todos',  billings_path, class: "btn btn-default" %>
</div>

<div class="panel panel-info">
  <!-- Default panel contents -->
  <div class="panel-heading">
       <h3 class="panel-title" style="text-align:center;">Listagem de Ordem de Serviço</h3>
  </div>

  <!-- Table -->
    <div class="table-responsive">
      <table id="demo-tables" class="table table-striped">

        <thead>
          <tr>
            <th>Placa</th>
            <th>Motorista</th>
            <th>Cliente</th>
            <th>Cte</th>
            <th>Valor</th>
            <th colspan="3" class="action">Opções</th>
          </tr>
        </thead>

        <tbody>
          <% @billing.ordem_services.each do |ordem_service| %>
            <tr>
              <td ><%= ordem_service.placa %></td>
              <td ><%= truncate(ordem_service.driver.nome, length: 25) %></td>
              <td ><%= truncate(ordem_service.client.nome, length: 25) %></td>
              <td ><%= ordem_service.cte %></td>
              <td ><%= ordem_service.valor_os(@billing.type_service_id) %></td>
              <td class="action"><%= link_to 'Show', ordem_service, class: "btn btn-info btn-sm" %></td>
              <td class="action"><%= link_to 'Edit', edit_ordem_service_path(ordem_service), class: "btn btn-primary btn-sm" %></td>
              <td class="action"><%= link_to 'Destroy', ordem_service, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger btn-sm" %></td>
              <tr>
                
                <td class="nfe" colspan="8"> Nfe [
                <% i = 1 %>
                <% x = ordem_service.nfe_keys.count  %>
                <% ordem_service.nfe_keys.each do |key| %>
                  <%= key.nfe %>
                  <% if (i < x) %>
                    -
                    <% i += 1 %>
                  <% end %>
                <% end %>
                ]
                </td>
              </tr>
            </tr>
          <% end %>
          <tr class="total">
            <td colspan="4">Total</td>
            <td><%= @billing.valor %></td>
            <td colspan="3"></td>
            
          </tr>

        </tbody>
      </table>
    </div>    
</div>
